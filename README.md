# Харитонов Кирилл Александрович БПИ214
### Вариант 16
### Условие
Задача о клумбе – 2. На клумбе растет 40 цветов, за ними непрерывно следят два процесс–садовника и поливают увядшие цветы,
при этом оба садовника очень боятся полить один и тот же цветок, который еще не начал вянуть. Создать приложение, моделирующее состояния цветков на клумбе и действия садовников. Для изменения состояния цветов создать отдельный
процесс для каждого цветка, который может задавать начало
увядания для отдельного цветка.

### Запуск и расположение файлов
Исполняемый файл расположен в `cmake-build-debug/untitled3` и принимает один аргумент командной строки - количество таймингов в секунду (влияет на скорость выполнения программы)
Исходный код расположен в `main.c`

### Сценарий решения задачи на оценку 4

Создается массив в разделяемой памяти, в который дочерние процессы цветов записывают случайно сгенерированные тайминги от 0 до 255, в которые производится полив цветов садовниками, для того чтобы не дать садовникам поливать один и тот же цветок одновременно используется массив семафоров, в котором у каждого цветка есть свой семафор, который блокируется на время полива. После полива цветка ему назначается новый случайный тайминг полива, после того как время достигает 255 оно начинается заново с 0.

### Реализация завершения программы

Так как в программе есть бесконечные циклы, то нормальным образом она завершится не может. Поэтому обрабатывается только сигнал SIG_TERM с помощью функции singal, которая вызывает функцию handle_end, в которой происходит высвобождение использованных ресурсов.

### Результаты работы программы

Пример вывода программы:
``` 
Gardener number 1 watered flower number 1 at timing 1, new timing is 69


69 35 69 102 136 170 203 237 15 49
83 116 150 184 217 251 29 63 97 130
164 197 231 10 43 77 111 144 178 211
245 24 57 91 125 158 192 225 4 38

69 35 69 102 136 170 203 237 15 49
83 116 150 184 217 251 29 63 97 130
164 197 231 10 43 77 111 144 178 211
245 24 57 91 125 158 192 225 4 38

69 35 69 102 136 170 203 237 15 49
83 116 150 184 217 251 29 63 97 130
164 197 231 10 43 77 111 144 178 211
245 24 57 91 125 158 192 225 4 38
Gardener number 1 watered flower number 39 at timing 4, new timing is 133

69 35 69 102 136 170 203 237 15 49
83 116 150 184 217 251 29 63 97 130
164 197 231 10 43 77 111 144 178 211
245 24 57 91 125 158 192 225 4 38

69 35 69 102 136 170 203 237 15 49
83 116 150 184 217 251 29 63 97 130
164 197 231 10 43 77 111 144 178 211
245 24 57 91 125 158 192 225 133 38

69 35 69 102 136 170 203 237 15 49
83 116 150 184 217 251 29 63 97 130
164 197 231 10 43 77 111 144 178 211
245 24 57 91 125 158 192 225 133 38

69 35 69 102 136 170 203 237 15 49
83 116 150 184 217 251 29 63 97 130
164 197 231 10 43 77 111 144 178 211
245 24 57 91 125 158 192 225 133 38

69 35 69 102 136 170 203 237 15 49
83 116 150 184 217 251 29 63 97 130
164 197 231 10 43 77 111 144 178 211
245 24 57 91 125 158 192 225 133 38

69 35 69 102 136 170 203 237 15 49
83 116 150 184 217 251 29 63 97 130
164 197 231 10 43 77 111 144 178 211
Gardener number 2 watered flower number 24 at timing 10, new timing is 69
245 24 57 91 125 158 192 225 133 38

69 35 69 102 136 170 203 237 15 49
83 116 150 184 217 251 29 63 97 130
164 197 231 69 43 77 111 144 178 211
245 24 57 91 125 158 192 225 133 38

69 35 69 102 136 170 203 237 15 49
83 116 150 184 217 251 29 63 97 130
164 197 231 69 43 77 111 144 178 211
245 24 57 91 125 158 192 225 133 38

69 35 69 102 136 170 203 237 15 49
83 116 150 184 217 251 29 63 97 130
164 197 231 69 43 77 111 144 178 211
245 24 57 91 125 158 192 225 133 38

69 35 69 102 136 170 203 237 15 49
83 116 150 184 217 251 29 63 97 130
164 197 231 69 43 77 111 144 178 211
245 24 57 91 125 158 192 225 133 38

69 35 69 102 136 170 203 237 15 49
83 116 150 184 217 251 29 63 97 130
164 197 231 69 43 77 111 144 178 211
Gardener number 2 watered flower number 9 at timing 15, new timing is 133
245 24 57 91 125 158 192 225 133 38

69 35 69 102 136 170 203 237 133 49
83 116 150 184 217 251 29 63 97 130
164 197 231 69 43 77 111 144 178 211
245 24 57 91 125 158 192 225 133 38

69 35 69 102 136 170 203 237 133 49
83 116 150 184 217 251 29 63 97 130
164 197 231 69 43 77 111 144 178 211
245 24 57 91 125 158 192 225 133 38

69 35 69 102 136 170 203 237 133 49
83 116 150 184 217 251 29 63 97 130
164 197 231 69 43 77 111 144 178 211
245 24 57 91 125 158 192 225 133 38

69 35 69 102 136 170 203 237 133 49
83 116 150 184 217 251 29 63 97 130
164 197 231 69 43 77 111 144 178 211
245 24 57 91 125 158 192 225 133 38

69 35 69 102 136 170 203 237 133 49
83 116 150 184 217 251 29 63 97 130
164 197 231 69 43 77 111 144 178 211
245 24 57 91 125 158 192 225 133 38

69 35 69 102 136 170 203 237 133 49
83 116 150 184 217 251 29 63 97 130
164 197 231 69 43 77 111 144 178 211
245 24 57 91 125 158 192 225 133 38

69 35 69 102 136 170 203 237 133 49
83 116 150 184 217 251 29 63 97 130
164 197 231 69 43 77 111 144 178 211
245 24 57 91 125 158 192 225 133 38

69 35 69 102 136 170 203 237 133 49
83 116 150 184 217 251 29 63 97 130
164 197 231 69 43 77 111 144 178 211
245 24 57 91 125 158 192 225 133 38

69 35 69 102 136 170 203 237 133 49
83 116 150 184 217 251 29 63 97 130
164 197 231 69 43 77 111 144 178 211
Gardener number 2 watered flower number 32 at timing 24, new timing is 208
245 24 57 91 125 158 192 225 133 38

69 35 69 102 136 170 203 237 133 49
83 116 150 184 217 251 29 63 97 130
164 197 231 69 43 77 111 144 178 211
245 208 57 91 125 158 192 225 133 38

69 35 69 102 136 170 203 237 133 49
83 116 150 184 217 251 29 63 97 130
164 197 231 69 43 77 111 144 178 211
245 208 57 91 125 158 192 225 133 38

69 35 69 102 136 170 203 237 133 49
83 116 150 184 217 251 29 63 97 130
164 197 231 69 43 77 111 144 178 211
245 208 57 91 125 158 192 225 133 38

69 35 69 102 136 170 203 237 133 49
83 116 150 184 217 251 29 63 97 130
164 197 231 69 43 77 111 144 178 211
245 208 57 91 125 158 192 225 133 38

69 35 69 102 136 170 203 237 133 49
83 116 150 184 217 251 29 63 97 130
164 197 231 69 43 77 111 144 178 211
Gardener number 2 watered flower number 17 at timing 29, new timing is 80
245 208 57 91 125 158 192 225 133 38

69 35 69 102 136 170 203 237 133 49
83 116 150 184 217 251 80 63 97 130
164 197 231 69 43 77 111 144 178 211
245 208 57 91 125 158 192 225 133 38

69 35 69 102 136 170 203 237 133 49
83 116 150 184 217 251 80 63 97 130
164 197 231 69 43 77 111 144 178 211
245 208 57 91 125 158 192 225 133 38

69 35 69 102 136 170 203 237 133 49
83 116 150 184 217 251 80 63 97 130
164 197 231 69 43 77 111 144 178 211
245 208 57 91 125 158 192 225 133 38

69 35 69 102 136 170 203 237 133 49
83 116 150 184 217 251 80 63 97 130
164 197 231 69 43 77 111 144 178 211
245 208 57 91 125 158 192 225 133 38

69 35 69 102 136 170 203 237 133 49
83 116 150 184 217 251 80 63 97 130
164 197 231 69 43 77 111 144 178 211
245 208 57 91 125 158 192 225 133 38

69 35 69 102 136 170 203 237 133 49
83 116 150 184 217 251 80 63 97 130
164 197 231 69 43 77 111 144 178 211
Gardener number 2 watered flower number 2 at timing 35, new timing is 196
245 208 57 91 125 158 192 225 133 38

69 196 69 102 136 170 203 237 133 49
83 116 150 184 217 251 80 63 97 130
164 197 231 69 43 77 111 144 178 211
245 208 57 91 125 158 192 225 133 38

69 196 69 102 136 170 203 237 133 49
83 116 150 184 217 251 80 63 97 130
164 197 231 69 43 77 111 144 178 211
245 208 57 91 125 158 192 225 133 38

69 196 69 102 136 170 203 237 133 49
83 116 150 184 217 251 80 63 97 130
164 197 231 69 43 77 111 144 178 211
245 208 57 91 125 158 192 225 133 38
exited and done cleanup

exited and done cleanup

exited and done cleanup
```